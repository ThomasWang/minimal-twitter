/*--
- Minimal Theme for Twitter - https://www.wang.sh/minimal-twitter
- Licensed under the MIT license - https://github.com/thomaswang/minimal-twitter/blob/main/LICENSE
- Copyright (c) 2022 Thomas Wang
--*/

/* Core styles for larger screen sizes */
@media only screen and (min-width: 768px) {
  /* Match widths for feed */
  div[data-testid="primaryColumn"] {
    width: 700px !important;
    max-width: 700px;
    margin: 0 auto;
  }

  div[data-testid="primaryColumn"] div:not(div[role="group"]) {
    max-width: 700px;
  }

  /* Move navigation to left */
  header {
    position: fixed !important;
    left: 0;
  }

  /* Center the Timeline */
  main {
    align-items: center !important;
  }

  /* Hide sidebar */
  div[data-testid="sidebarColumn"] {
    visibility: hidden;
    width: 0 !important;
    height: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    z-index: 1;
  }

  /* Reveal searchbar */
  div[data-testid="sidebarColumn"]
    form[aria-label="Search Twitter"][role="search"] {
    visibility: visible;
    position: fixed;
    top: 8px;
    right: 24px;
    backdrop-filter: blur(12px);
  }

  /* Default size of input to match the placeholder content */
  div[data-testid="sidebarColumn"] input[placeholder="Search Twitter"] {
    width: 14ch;
  }

  /* Match size of focused search container to its dropdown */
  div[data-testid="sidebarColumn"]
    form[aria-label="Search Twitter"][role="search"]:focus-within {
    width: 374px;
  }

  /* Match size of focused search input to its dropdown */
  div[data-testid="sidebarColumn"] input[placeholder="Search Twitter"]:focus {
    width: 328px;
  }

  /* Remove left positioning align search dropdown */
  div[aria-multiselectable="false"][role="listbox"],
  div[style="left: -12px; width: 374px;"] {
    left: auto !important;
  }

  /* Floating Tweet Button */
  a[href="/compose/tweet"][aria-label="Tweet"],
  a[data-testid="SideNav_NewTweet_Button"] {
    position: fixed;
    right: 32px;
    bottom: 24px;
  }

  /* Show navigation labels on hover */
  nav[aria-label="Primary"] * span {
    display: none;
  }
  nav[aria-label="Primary"] *:hover span {
    display: inline;
  }
  /* nav[aria-label="Primary"] div[dir="auto"] {
    display: none;
  } */

  /* Show account menu label on hover */
  div[aria-label="Account menu"] > div:not(:first-child) {
    display: none;
  }
  div[aria-label="Account menu"]:hover > div:not(:first-child) {
    display: block;
  }
  /* div[aria-label="Account menu"] {
    width: fit-content;
  }
  div[aria-label="Account menu"] > div:not(:first-child) {
    display: none;
  } */
}

/* Remove promoted posts */
[data-testid="placementTracking"] article {
  display: none;
}

/* Remove borders on feed */
/* div[data-testid="primaryColumn"] {
  border-left-width: 0;
  border-right-width: 0;
} */
